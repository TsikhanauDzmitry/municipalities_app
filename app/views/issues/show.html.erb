<div class="container card flex-md-row mb-4 box-shadow h-md-250">
  <div class="card-body d-flex flex-column align-items-start">
    <h1 class="mb-0"><%= @issue.title %></h1>
    <div class="mb-1 text-muted"><%= @issue.created_at.strftime('%Y-%m-%d %H:%M') %></div>
    <p class="card-text mb-auto"><%= @issue.description %></p>
    <div class="mt-5 d-flex gap-2">
      <% if can?(:assign_to_self, @issue) %>
        <%= button_to 'Assign to Myself', assign_to_self_issue_path(@issue), method: :put, class: 'btn btn-outline-dark' %>
      <% end %>

      <% if can?(:update, @issue) %>
        <%= link_to 'Edit', edit_issue_path(@issue), class: 'btn btn-outline-dark' %>
      <% end %>

      <% if can?(:destroy, @issue) %>
        <%= link_to 'Delete', issue_path(@issue), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-dark' %>
      <% end %>

      <%= link_to 'Back', issues_path, class: 'btn btn-outline-dark' %>
    </div>
  </div>
  <% if @issue.image.attached? %>
    <%= image_tag @issue.image, class: 'card-img-right flex-auto d-none d-md-block img-fluid my-2' %>
  <% end %>
</div>
